#+SETUPFILE: ../theme-rose.setup
#+DATE: <2020-01-17 Fri 22:10>
#+TITLE: Diary

* 日志

#+BEGIN_QUOTE
时间像头野驴，跑的飞快。生活需要计划、思考和沉淀。时空无限，人生终有尽时，想在这无限的时空中，舞动璀璨人生，就不能若无根的浮萍，随着光阴的长河漫无目的地漂流。
#+END_QUOTE
** [2020-05-14 四 19:28] - 记一次quickrun自定义命令的过程
	  在我使用 *quickrun* 这个包来快速运行python程序时发现一个让人很烦躁的默认设定——自动生成临时文件，为了解决这个问题，我简单的查阅了下Issues和Google了一下，结果让人有些无语，没有找到相关说明，本以为只有我一个人有这个需求的时候，我又单独在Issue列表里换了个关键字查找，还真有类似的问题，不过没有直接给出解决方案，现在那个[[https://github.com/emacsorphanage/quickrun/issues/84][issue]]还是Open状态。我也纳闷了，这个问题想解决也挺简单的，就是自己写一个quickrun命令，但为啥那个issue能从16年留到现在20年也太奇怪了，不说那么多废话了，下面提供解决方案。
	  #+begin_src emacs-lisp
		(quickrun-add-command "python"
			'((:command . "python3")
			  (:exec . "%c %s")
			  (:tempfile . nil))
			:default "python")
	  #+end_src
 这段配置自定义了一个quickrun命令，它的特点就是不会生成临时文件，其他语言的也是类似的，完结。
   test
** [2020-08-06 四 01:28] - 利用org-capture和youdao-dictionary制作生词本
   youdao-dictionary是一个网络词典工具，可以获取英文对应的词性，中文翻译等信息。
   org-capture是一个快速捕获内容的工具，通过特定的模板可以做到以特定的结构保存捕获到的特定的内容。
   生词表是将不认识的单词保存到一个org-mode表格中，在日后可以随时查看生词表中的内容。

*** 设计目标
	假定我在看文章，发现一个单词我不认识，这时可以通过youdao-dictionary进行翻译，但是瞬时记忆总是会忘记的
	所以就需要建立一个生词表，将这些不认识的单词丢进生词表中。
*** 实现过程
	我设定生词表内，单个生词只需要包含四种信息，分别是: 时间，英文，词性，中文。
	其中时间可以通过org-capture的模板来生成，而其他三项可以通过youdao-dictionary获取。

	那么首先来写一下org-capture模板:

	#+begin_src emacs-lisp
	(add-to-list 'org-capture-templates '("f" "单词速导" table-line (file+headline "~/Documents/org/capture/word.org" "Words")
                                        " | %U | %(evan/capture-get-word-eng 1) | %(evan/capture-get-word-eng 2) | %(evan/capture-get-word-eng 3) |"))
	#+end_src

	这个模板的功能是插入一个表格行，内容是 | 时间 | 英文 | 词性 | 中文。
	
	大概效果是这样的。
	[[file:~/Documents/site/images/org-capture-生词表-预览.png][表格预览]]
	
	那么下面就需要写一个能获取英文，词性，中文的函数了。

	#+begin_src emacs-lisp
	(defun evan/capture-get-word-eng(type)
	;; (interactive "^p")
	(message "当前光标下的英文: %s" (thing-at-point 'word))
	(let* ((point-word (if (null evan/capture-get-word-point-word)
						   (error "Cannot find word at point.")
						 evan/capture-get-word-point-word))
		   (evan/capture-word-translate (youdao-dictionary--request point-word))
		   (evan/capture-word-eng point-word)
		   (evan/capture-word-chinese (cdar (nthcdr 3 (cdadr evan/capture-word-translate))))
		   (evan/capture-word-type nil))
	  ;; 获取单词词性
	  (progn (string-match "[a-zA-Z]+" (aref evan/capture-word-chinese 0)) ;; 匹配英文字符
			 ;; 设置词性 格式为: "adj."
			 (setq evan/capture-word-type (concat (match-string 0 (aref evan/capture-word-chinese 0)) ".")))
	  
	  ;; 设置单词中文
	  (progn (string-match "[\u4e00-\u9fa5；，]+" (aref evan/capture-word-chinese 0))
			 ;; 设置中文
			 (setq evan/capture-word-chinese (match-string 0 (aref evan/capture-word-chinese 0))))
	  ;; 根据参数返回具体的值
	  (cond ((eq type 1) evan/capture-word-eng)
			((eq type 2) evan/capture-word-type)
			((eq type 3) evan/capture-word-chinese)))
	#+end_src

	这个函数会将当前光标下的单词通过 `youdao-dictionary--request` 获取我们所需要的数据，如果参数type为1，
	那么返回的是英文，如果参数type为2，返回词性，如果参数type为3，返回中文，也就正对应了capture模板的三个内容。

	注意观察 *point-word* 局部变量，它是通过 `evan/capture-get-word-point-word` 获取的，这个变量是由下面这个函数控制的。

	#+begin_src emacs-lisp
	(defun evan/capture-get-word-point ()
	(interactive)
	(setq evan/capture-get-word-point-word (thing-at-point 'word))
	(if (null evan/capture-get-word-point-word)
						   (error "Cannot find word at point.")
						 (org-capture 1 "f")))
	#+end_src
	这个函数会将 `evan/capture-get-word-point-word` 设置为当前光标下的单词，这么做的原因是因为，如果先调出capture，那么就无法获取
	当前光标下的英文了，那么也就会出错，所以我们必须得在capture之前获取。

	回到 `evan/capture-get-word-eng` 函数，其内部对由 `youdao-dictionary--request` 返回的数据进行了处理，并且分别设置了 词性，中文。
	再根据参数值返回内容。

	注意观察，由于 `youdao-dictionary` 查询曾经查询过的词时会优先查询缓存过的词，所以不用担心capture模板重复调用的问题。

	下面再看一下 `evan/capture-get-word-point` 函数中调用 `org-capture` 的语句，那里的1代表org-capture捕获时不需要显示选择界面，直接就选择
	"单词速导"模板。

*** 总结
	获取三条数据都还挺简单的，中间因为没有理清capture和youdao-dictionary查询之间的前后关系而出现了问题，主要是因为当时我是通过将先打开了org-capture选择模板界面，
	再获取的光标下的单词，所以就出现了`youdao-dictionary--request`的参数永远为nil的问题。
** [2020-08-27 四 03:49] - 今日50单词无厘头短文
*** 单词
      | [2020-05-12 二 08:35] | hello        | n.   | 你好               |
      | [2020-05-12 二 13:30] | Tree         | n.   | 树                 |
      | [2020-05-14 四 19:41] | capture      | v.   | 捕获               |
      | [2020-05-14 四 19:42] | Template     | n.   | 模板               |
      | [2020-05-15 五 16:11] | skeleton     | n.   | 骨架               |
      | [2020-05-15 五 19:32] | triggered    | v.   | 触发，引发         |
      | [2020-05-15 五 19:33] | emitted      | v.   | 射出，排放         |
      | [2020-05-15 五 19:34] | signal       | n.   | 信号               |
      | [2020-05-15 五 19:35] | terminates   | vt.  | 使终止，使结束     |
      | [2020-05-15 五 19:37] | located      | adj. | 位于，处于，坐落于 |
      | [2020-05-15 五 19:39] | tutorial     | n.   | 教程               |
      | [2020-05-15 五 19:44] | geometry     | n.   | 几何学；几何结构   |
      | [2020-05-16 六 13:28] | implement    | n.   | 工具，器械         |
      | [2020-05-16 六 13:29] | implement    | vt.  | 实施；执行         |
      | [2020-05-16 六 13:31] | coordinate   | n.   | 坐标               |
      | [2020-05-16 六 13:53] | shortcut     | n.   | 快捷方式           |
      | [2020-05-16 六 14:07] | occupy       | vt.  | 占据               |
      | [2020-05-16 六 16:20] | specifies    | vt   | 指定               |
      | [2020-05-16 六 16:29] | absolute     | adj. | 绝对的             |
      | [2020-05-16 六 16:31] | limitation   | n.   | 局限性             |
      | [2020-05-16 六 16:33] | might        | aux. | 可能；也许；可以   |
      | [2020-05-16 六 16:34] | various      | adj. | 各种各样的         |
      | [2020-05-16 六 16:35] | platform     | n.   | 平台               |
      | [2020-05-16 六 16:37] | spoil        | vt.  | 破坏；掠夺         |
      | [2020-05-16 六 16:39] | decide       | vi.  | 决定；下定决心     |
      | [2020-05-16 六 16:40] | completely   | adv. | 完全地             |
      | [2020-05-16 六 16:42] | tedious      | adj. | 沉闷的；乏味的     |
      | [2020-05-16 六 16:43] | consuming    | adj. | 消耗的             |
      | [2020-05-16 六 17:21] | corner       | n.   | 角落；拐角处；偏僻 |
      | [2020-05-16 六 17:24] | horizontally | adv. | 水平地             |
      | [2020-05-16 六 17:24] | vertically   | adv. | 垂直地             |
      | [2020-05-16 六 17:36] | imagine      | vt.  | 想象；猜想         |
      | [2020-05-16 六 18:05] | necessary    | adj. | 必备的；必需的     |
      | [2020-05-16 六 18:15] | stretch      | adj. | 弹性的；拉伸的     |
      | [2020-05-17 日 19:25] | linear       | n.   | 线性               |
      | [2020-05-17 日 19:30] | recycler     | n.   | 反复循环器         |
      | [2020-05-20 三 21:26] | review       | n.   | 回顾;评估          |
      | [2020-05-20 三 21:27] | cumbersome   | adj. | 笨重的;难处理的    |
      | [2020-05-20 三 21:28] | simplify     | vt.  | 简化               |
      | [2020-05-20 三 21:29] | offers       | n.   | 试图               |
      | [2020-05-20 三 21:30] | possible     | adj. | 可能的;合理的      |
      | [2020-05-20 三 21:33] | considered   | n.   | 认为               |
      | [2020-05-20 三 21:35] | finalize     | vt   | 完成               |
      | [2020-05-24 日 14:48] | horizontal   | adj. | 水平的             |
      | [2020-05-24 日 14:49] | vertical     | n.   | 垂直线             |
      | [2020-05-24 日 19:38] | gravity      | n.   | 重力               |
      | [2020-05-31 日 00:14] | dialog       | n.   | 对话；会话         |
      | [2020-05-31 日 00:14] | summary      | n.   | 总结;概要          |
      | [2020-05-31 日 00:15] | figure       | n.   | 数字;人物;图形;    |
      | [2020-05-31 日 00:17] | progress     | n.   | 进步;发展;前进     |	 
	  那么开始吧!
*** 正文
**** zh-CN
	 Hello，My name is Li TianYu，Today I saw a tree，I capture a bug template from this tree
	 ，this bug's skeleton is very big!See the bug's skeleton let my brains triggered fear s-
	 ignal，let me emitted a phlegm,I think teacher talked tutorial of the tree,this tutorial
	 is talk about geometry，need use varitey implement to implement measurement thing corrdi
	 nate,don't want to know，Just start at course can not use shortcut，so we only can early
	 occupy specifies measurement address，let us absolute get the address，bug some address 
	 is limitation，might can not measurement standard，bug might can use various tool platf-
	 orm to spoil teacher's decide，thought is not each person able to completely measuremen-
	 t standard，毕竟这些测量工作都是很沉闷的，
	 需要消耗巨大的体力，时不时还得钻进角落才能使得测量器水平地垂直地使用，真的难以想象对么？
	 你们平常那些必需的测量工具，在老师眼里都是非弹性的。对了最近遇到一个词，叫做线性，我也不
	 是很懂，不过同期学习的 反复循环器我倒是搞懂了，哈哈。回顾整个学期，最难处理的还是英语，
	 毕竟我英语一直不咋地，所以我试图找到最简化的英语教程，最终我决定使用我自己发明的英语方法
	 ，这可能有些傻，但我任务这完全可以做到学习好英语，可能语法不会很标准吧。前几天去体验了下
	 缆车，刚上缆车的时候，给了我一种失去重力的感觉，我跟我哥对话，总结了下早晨的早餐体验，我
	 用一个数字来评分，我给5分，哈哈。今天我又为org-agenda添加了任务支持，挺好的，我的emacs有
	 了很好的图形体验，希望我的英语水平能进步吧，一直前进。
**** en-US
	 你好，我叫李天宇，今天我看到一棵树，我从树上捕获到了一只虫子的模板，这只虫子的骨架很大，
	 看到这个虫子的骨架都让我的脑子触发了恐惧感的信号，不由让我射出了一口痰，处于树下的我想到
	 了老师说的教程，这个教程是将几何学的，需要利用各种工具与器械来实施进行测量物体的坐标，不
	 用想就知道，刚开课时是不能用这些快捷方式的，我们只能早早的占据指定的测量地点，以让我们绝
	 对的抢到位置，不过有些位置会有局限性，可能无法测量出标准，不过也许可以用各种各样的工具平
	 台来破坏老师的决定，虽然不是每个人都能完全得做到测量标准，毕竟这些测量工作都是很沉闷的，
	 需要消耗巨大的体力，时不时还得钻进角落才能使得测量器水平地垂直地使用，真的难以想象对么？
	 你们平常那些必需的测量工具，在老师眼里都是非弹性的。对了最近遇到一个词，叫做线性，我也不
	 是很懂，不过同期学习的 反复循环器我倒是搞懂了，哈哈。回顾整个学期，最难处理的还是英语，
	 毕竟我英语一直不咋地，所以我试图找到最简化的英语教程，最终我决定使用我自己发明的英语方法
	 ，这可能有些傻，但我任务这完全可以做到学习好英语，可能语法不会很标准吧。前几天去体验了下
	 缆车，刚上缆车的时候，给了我一种失去重力的感觉，我跟我哥对话，总结了下早晨的早餐体验，我
	 用一个数字来评分，我给5分，哈哈。今天我又为org-agenda添加了任务支持，挺好的，我的emacs有
	 了很好的图形体验，希望我的英语水平能进步吧，一直前进。
** [2020-09-03 四 21:17] - Java自考
   这次Java自考没过，我心态炸裂，氣死我了，考前我做了充足的准备，结果没有过。
更让我觉得难受的是，为什么没过的科目不能看成绩啊！！！
	
	10月份还有一次考试，加油吧！
