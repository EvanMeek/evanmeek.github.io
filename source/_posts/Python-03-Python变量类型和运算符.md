---
title: '[Python-03]Python变量类型和运算符'
copyright: true
date: 2019-08-31 15:03:13
categories: Python
tags:
  - Python系列
---
Python系列第三章笔记，查看Python系列所有文章，请点击[💿](https://evanmeek.github.io/Python/)
<!--more-->

__本章重点:Python变量数据类型、运算符。__

Python是弱类型语言。

弱类型含义:

- 所有变量无需声明即可使用。

- 变量的数据类型随时可变。

# Python变量及其使用

变量:

- 数据可发生无数次变化。

- 数据类型可发生变化。


常量: 一旦保存数据，则不可修改。


赋值运算符: `=`

__type()作用:__查看变量的数据类型

# Python数值类型（整型、浮点型和复数）及其用法

Python中的数值类型都是不可变的。

有些人可能会问，不是不可变么，为什么我定义的int类型变量的值仍然可以变化，那是因为底层实现将新的值存放到新的一块内存中，然后将修改变量指针的指向。

> Python整型

整型是用来表示没有小数部分的数，整数包括：正整数、0、负整数


Python整型的四种表示形式：

- 十进制(0-9)

- 二进制(0-1)

- 八进制(0-7)

- 十六进制(0-9-A-F/a-f)

> Python浮点型

浮点型是用来保存带小数的数值，浮点数包括:十进制形式、科学计数形式。

十进制形式的写法:

~~~
float_dex = 1.100111
~~~

科学计数形式

~~~
float2 = 2e3
~~~

> Python复数

我跳过了本节，如果读者想看，可以点击进行访问[💿Python复数](http://c.biancheng.net/view/2173.html)

# Python字符串详解(包含长字符串和原始字符串)

Python字符串必须使用引号括起来，可以是单引号也可以是双引号，但必须成对。

如果字符串内仍然包含引号，可以使用以下两种方法解决:

__用另一种成对的引号包括起来__

~~~
str1 = "I'm EvanMeek."

str2 = 'Evan:"Hello World."'
~~~

__用转义字符进行转义__

~~~
str1 = 'I\'m EvanMeek'
~~~

转义字符还可以用来转义换行符，应用场景通常是:

__字符串过长，转义换行符，使其不换行__

~~~
print("mac mac macmac mac macmac mac mac \
mac mac macmac mac mac")
~~~

> Python长字符串

长字符串常用场景是:

__定义大段文本内容为字符串时__

~~~
str1 = ''' "Fuck you ! Bitch!",said he.
"Mother fuck!",said she.
~~~

> Python原始字符串

在Windows下,路径是使用反斜杠作为路径区分的，如果需要将反斜杠转义，那必须再加一个反斜杠，这样非常麻烦，就可以使用下面的案例来解决:

__转义反斜杠写路径__

~~~
path = 'C:\\User\\Admin\\Desktop'
~~~

__使用原始字符串写反斜杠__

~~~
path = r'C:\User\Admin\Desktop'
~~~

注意: 原始字符串中的引号同样需要使用`\`进行转义

# Python bytes类型及用法

bytes类型代表了字节串。

字节串与字符串不同的是:

- 字节串是以字节为单位进行操作

- 字节串可直接用于网络通信数据互联

字节串是由多个字节组成的，每个字节由8个bit位组成。

字节串保存的数据都是二进制格式的数据。

字节串可以转换成字符串，而字符串也能恢复成字节串。

> 字节串转换为字符串

__创建字节串__

~~~
# 创建一个空的bytes
b1 = bytes()
# 创建一个空的bytes值
b2 = b''
# 创建一个非空的字节串
b3 = b'hello'
~~~

__字符串转换为字节串__

~~~
# 使用encode方法将字符串以utf-8字符集转换为字节串
b4 = "I love Python".encode('utf-8')

# 创建bytes对象时将字符串的字符集指定为'utf-8'，自动转换为字节串
b5 = bytes('I love Python', encoding='utf-8')
~~~

> 字节串转换为字符串

~~~
# 使用字节串对象的方法decode，指定字符集转化字节串
str1 = b'I love Python'.decode('utf-8')
~~~

# Python bool布尔类型

bool变量只有两个值分别是: True,False。它们都是Python的关键字。

True代表真

False代表假

例如表达式:

~~~
3 > 5
~~~

结果是False

Python中所有对象都可以进行真假值的测试。

# Python len()函数详解：获取字符串长度或字节数

len()函数是Python内置函数，用于获取字符串或字节串的长度（数量）。

例子:

__统计字符串的长度__

~~~
print(len("Hello World"))
~~~

输出结果: 11

__统计字节串的长度__

~~~
print(len("你好世界".encode()))
~~~

输出结果: 12

不同的语言所占的字节数不同，并且不同的编码格式所占的字节数也不同。

例如，汉字使用utf-8编码格式，占用3个字节，中文标点符号使用GBK编码格式占用2个字节。

# Python input()函数：获取用户输入的字符串

input()是Python的内置函数，其作用是输出一段信息然后请求用户输入，并且将获取的值传入接收的对象。

input()函数将会把用户输入的任何字符都作为字符串读入。

例子:

~~~
a = input("Please input something:")
print(type(a))
~~~

运行:

~~~
Please input something > 19
<class 'str'>
~~~

__注意: Python2.x中，要求input()函数读入的内容必须是符合Python语法表达式的。__

例如: 输入字符串时，必须带双引号，否则将会报错。

# Python print()函数的高级用法

> 输出多个参数

例子:

~~~
name = "EvanMeek"
age = 18
print("我叫:", name, "age", 18)
~~~

输出:

~~~
我叫: EvanMeek age 18
~~~

> 指定输出多个参数时的分隔符(默认的分割符为空格)

~~~
name = "EvanMeek"
age = 18
print("我叫:", name, "age", 18)
print("我叫:", name, "age", 18, sep='|')
~~~

结果:

~~~
我叫: EvanMeek age 18
我叫:|EvanMeek|age|18
~~~

> 指定结束符(默认结束符为换行符\n)

~~~
print(10,'\t',end="")
print(11,'\t',end="")
print(12,'\t',end="")
~~~

结果:

~~~
10 	11 	12 	
~~~

> 指定输出目标(默认输出为标准输出)

~~~
f = open("test.txt", "w")

print('Just Test', file = f)

f.close()
~~~

结果: 将 'Just Test' 写入到 tes.txt文件内

# Python格式化字符串(格式化输出)

Python中的格式化字符串可以对各种类型的数据进行格式化输出。

例子:

__格式化输出整型数据__

~~~
number = 100
print("Number is:%s" % number)
~~~

格式化分为三个部分，分别是被包括在双引号内的占位符(`%s`)、以及中间部分的 格式化分隔符(`%`)与对应占位符的变量或表达式(`number`)

`%s`被称为占位符,又可以说是转换说明符(Conversion Specifier)

| 转换说明符 | 说明                                 |
|------------|--------------------------------------|
| %d,%i      | 转换为带符号的十进制形式的整数       |
| %o         | 转换为带符号的八进制形式的整数       |
| %x,%X      | 转换为带符号的十六进制形式额整数     |
| %e         | 转换为科学计数法标识的浮点数(e小写)  |
| %E         | 转换为科学计数法标识的浮点数(E大写)  |
| %f,%F      | 转换为十进制形式的浮点数             |
| %g         | 智能选择使用%f或%e格式               |
| %G         | 智能选择使用%F或%E格式               |
| %c         | 格式化字符及其ASCII码                |
| %r         | 使用repr()将变量或表达式转换成字符串 |
| %s         | 使用str()将变量或表达式转换为字符串  |

Python允许aaaaqaz123在占位符前添加一个标志用来指定对齐：

- `-`(减号) :指定左对齐

- `+`(加号) : 表示数值总要带着符号.

- `0`,表示不补充空格，而是补充0。

例子:

~~~
print("%06d" % num2)

print("%+06d" % num2)

print("%-6d" % num2)
~~~

输出结果:

~~~
000030
+00030
30    
~~~

精度值：用于指定小数点后的数字位数，如果是字符串时指定转换后字符串的最大字符数

# Python转义字符及用法

转义字符是指在指定字符前添加反斜杠`\`，对特殊的字符进行转义。

表格请点击此链接查看👉[💿Python常用/支持的转义字符
](http://c.biancheng.net/view/2176.html)

# Python类型转换，Python数据类型转换函数大全

Python身为弱类型编程语言，不需要为变量声明数据类型，但在某些场景下，仍然需要进行类型转换，而Python内置了很多常用数据类型的转换函数，请看下表。

| 函数                  | 作用                                             |
|-----------------------|--------------------------------------------------|
| int(x)                | 将x转换成整数类型                                |
| float(x)              | 将x转换成浮点数类型                              |
| complex(real,[,imag]) | 创建一个复数                                     |
| str(x)                | 将x转换成字符串                                  |
| repr(x)               | 将x转换成表达式字符串                            |
| eval(str)             | 计算在字符串中的有效Python表达式，并返回一个对象 |
| chr(x)                | 将整数x转换成一个字符                            |
| ord(x)                | 将字符x转化成它对应的整数值                      |
| hex(x)                | 将一个整数x转换成一个十六进制的字符串            |
| oct(x)                | 将一个整数x转换成一个八进制的字符串              |

使用类型转换函数时，被转换的数据必须是有意义的，例如，在使用int()函数时无法将一个费阿拉伯数字的字符串进行转换。

# Python算术运算符及用法详解

算术运算符用于处理四则运算的符号，在数字的处理中应用得最多。

![Python常用算术运算符](Python-03-Python变量类型和运算符/Python常用算术运算符.png)

> 加法运算符

算术运算例子:

~~~
a = 10
b = 20
print("%d" % (a+b))
~~~

输出:`30`

字符串拼接例子:

~~~
hello = "Hello"
world = "World"
print("%s" % hello+world)
~~~

输出:`HelloWorld`

> - 减法运算符

减法算术例子:

~~~

a = 10
b = 5
print("%d" % (10-5))
~~~

输出:`5`

求负算术例子:

~~~
a = 10
a = -a
print(a)
~~~

输出: `-10`

> *乘法运算符

乘法算术例子:

~~~
a =10.5
print(a*a)
~~~

输出:`110.25`

字符串连接例子:

~~~
str="test "
print(str*3)
~~~

输出:`test test test `

> /和//除法运算符

普通除法算术例子(除不尽产生小数):

~~~
a = 10
b = 3
print(a/b)
~~~

输出:`3.3333333333333335`

整除除法算术例子(除不尽舍去小数):

~~~
a = 10
b = 3
print(a//b)
~~~

输出:`3`

__注意:Python中不可使用0作为除数，否则会引发`ZeroDivisionError`错误__

__注意:Python2.x中没有整除运算符__

Python2.x的的求整除的规则是:

- 当两个操作数都是整数时，`/`作为整除运算符

- 当两个操作数其中一个是浮点数时，`/`作为非整除运算符

> %求余运算符

- Python不需要求余的两个操作数是整数

- Python不允许求余运算的第二个操作数为0

求余运算例子:

~~~
print("10 % 3 = ",(10%3))
print("10.5 % 3.5 = ",(10.5%3.5))
~~~

输出:

~~~
10 % 3 =  1
10.5 % 3.5 =  0.0
~~~

注意:

- 若求余运算第二个操作符为负数，那么结果也一定是负数。

> **乘方运算符

乘方+开方运算例子:

~~~
print('5 的 2 次方：', 5 ** 2) # 25
print('4 的 3 次方：', 4 ** 3) # 64
print('4 的开平方：', 4 ** 0.5) # 2.0
print('27 的开 3 次方：',27 **(1 / 3 )) # 3.0
~~~

输出:

~~~
5 的 2 次方： 25
4 的 3 次方： 64
4 的开平方： 2.0
27 的开 3 次方： 3.0
~~~

# Python赋值运算符（入门必读）

赋值运算符常用于将运算符右侧的值赋值给左侧的容器。

> 基本赋值运算符

将赋值运算符右侧的表达式赋值给左侧的容器。

~~~
a = 10
b = a
c = a+b
print(a,b,c)
~~~

输出:`10 10 20`

> 扩展后的赋值运算符

`=`赋值运算符与其他运算符结合后，将成为功能更强大的赋值运算符。

![Python常用赋值运算符](Python-03-Python变量类型和运算符/Python常用赋值运算符.png)

# Python位运算符详解

`初学者可暂时跳过本章`

位运算符通常使用场景是：图形、图像处理、创建设备驱动等底层开发。

Python位运算符的操作对象为整数类型，它会把数字看做相应的二进制来进行计算。

![python位运算符](Python-03-Python变量类型和运算符/Python位运算符.png)

> &按位与运算符

有两个操作数

运算符法则：按位将2个操作数对应的二进制进行一一对应，对应时，只有对应数位都为1时，则结果为0，否则为1。

例如:

~~~
a = 10
b = 5
print(bin(a), bin(b), a & b)
~~~

输出结果:

~~~
0b1010 0b101 0
~~~

> |按位或 运算符

`|`是其运算符，具有两个操作数。

运算符法则：按位将2个操作数对应的二进制进行一一对应，对应时，只有对应数位都为0时，则结果才为0，否则为1。

> ^按位异或运算符

`^`是其运算符，具有两个操作数。

运算符法则：按位将两个操作数对应的二进制进行一一对应，对应时，若对应数位都为0或1，则结果为0，否则为1

> ~按位取反运算符

`~`是其运算符，具有1个操作数

运算符法则：将其操作数的二进制进行取反，也就是：原本为0的取反为1，原本为1的取反为0.

其他：原码、反码、补码是什么

- 原码: 将某数值转换为二进制数，若此数值为正数或0则代表可以是无符号的，那么最高位则不需要一个符号位，若为负数则需要一个符号位。

- 反码: 对原码按位取反，但符号位不变。

- 补码: 负数的补码是其反码+1，正数或0的补码与原码相同。

> <<左移运算符

`<<`是其运算符，具有两个操作数

将操作数按补码形式进行整体向左移动。移动后，溢出的丢弃，空出的以0填补。

> \>\> 右移运算符

`>>`是其运算符，具有两个擦作数

将操作数按补码形式进行整体向右移动。移动后，溢出的丢弃，空出的以符号位填补。。

# Python比较运算符(关系运算符)

比较运算符又称为关系运算符，其作用是对各种表达式，容器结果进行大小、真假等比较。如果比较结果为真，则返回True(真)否则返回False(假)。

![Python比较运算符表](Python-03-Python变量类型和运算符/Python比较运算符.png)

> 比较运算符 == 和 is区别

== 比较的是值

is 比较的所引用对象的地址

# Python逻辑运算符及其用法

逻辑运算符也是对真假（布尔类型）进行运算符，其返回值也为bool。

![Python比较运算符表](Python-03-Python变量类型和运算符/Python逻辑运算符及功能.png)

# Python三目运算符(三元运算符)用法详解 

Python利用if来实现三目运算符的功能。

语法格式：

~~~
True_statements if expression else False_statements
~~~

运算法则: 先对`expression`(表达式)求值，如果为True则执行`True_statements`否则执行`False_statements`

例子:

~~~
a = 10
b = 20
print("a>b") if a > b else print("a<b")
~~~

结果:
~~~
a<b
~~~

Python允许在三目运算符的`False_statements`或`True_statements`放置多条语句。

两种放置方式:

- 以英文逗号隔开，将每条语句执行结果，组成元组。

- 以英文分号隔开，只返回一条语句的结果。 

例子:

~~~
a = 20
b = 20

print("a>b") if a > b else (print("a<b") if a < b else print("a=b"))
~~~

结果:

~~~
a = b
~~~

# Python运算符优先级

不同的运算符有一个优先级，在用于在表达式中进行区别执行顺序。

![Python比较运算符表](Python-03-Python变量类型和运算符/Python运算符优先级.png)
