---
title: Linux-文件过滤及内容编辑处理命令-2
copyright: true
date: 2019-06-30 19:26:29
categories: Linux系列
tags:
  - Linux
---

# 3.0 做Linux运维的多个好处

1. 做运维可以认识更多人，同时也被更多人认识。

2. 做运维可以让自己沟通，交际能力变得比开发人员更强。

3. 相比开发岗位，运维的岗位更重要一些。

# 3.1 cat 合并文件或查看文件内容

`concatenate`

__cat命令5大常用功能__

| 序号 | 常用功能                 | 例子以及说明                                              |
|------|--------------------------|-----------------------------------------------------------|
| 1    | 查看文件内容             | cat file.txt 查看文件内容，最基本的使用                   |
| 2    | 多个文件合并为一个文件   | cat f1 f2 > newf 将f1和f2的内容合并到newf                 |
| 3    | 创建编辑新文件           | cat > file 输入后会请求输入，快捷键Ctrl+d/c可退出         |
| 4    | 非交互式编辑或追加新内容 | cat >>file<<EOF 输入后会请求输入，在结束时输入EOF即可退出 |
| 5    | 清空文件内容             | cat /dev/null > file 清空文件内容                         |

语法格式

~~~
cat [选项] [文件]
~~~

| 选项 | 说明                                   |
|------|----------------------------------------|
| -n   | 为输出的内容加编号，从1开始            |
| -b   | 与-n类似，但它忽略空白行               |
| -s   | 当遇到有多行空白行，则合并为单行空白行 |
| -v   | 除了LFD和TAB之外，使用^和M-引用        |
| -T   | 将Tab字符显示为^I                      |
| -E   | 在行尾显示$符号                        |
| -t   | 等价与-vT                              |
| -A   | 等价于-vE                              |

例子

__使用cat命令以非交互式的方式编辑文件__

方式1:

~~~
> cat >file<<EOF


Just a test.
EOF
> cat file


Just a test
~~~

解释: EOF为字符标签，用于标记从何开始与从何结束，可替换为任意字符，常用做法是用EOF表示，并且字符标签必须成对出现

易错点: 结束EOF必须置前，前面不能有任意字符

方式2:

~~~
> cat >file<<-EOF


Just a test.
  EOF
> cat file


Just a test.
~~~

解释: 在字符标签前加上`-`可以使得结束标签前可放置制表符，但仅仅只可放制表符

__合并多个文件为单个文件__

~~~
> cat > f1
f1
Ctrl+d
> cat > f2
f2
Ctrl+c
> cat f1 f2
f1
f2
> cat f1 f2 > newfile
> cat newfile
f1
f2
~~~

# 3.2 tac 反向显示文件内容

跟`cat`命令类似，反向输出文件内容

| 选项 | 说明                             |
|------|----------------------------------|
| -b   | 在行前添加分隔标志               |
| -r   | 将分隔标志视作正则表达式进行解析 |
| -s   | 使用指定字符作为换行的标志       |

例子

~~~
> cat file1
hello
world
> tac file2
world
hello
~~~

# 3.3 more 分页显示文件内容

`more`类似于`cat`命令，区别在于`cat`命令是将文件内容一次性全部显示在屏幕上，而`more`则会分页进行显示。

语法格式

~~~
more [选项] [文件]
~~~

`more`参数选项说明

| 选项 | 说明                                                                         |
|------|------------------------------------------------------------------------------|
| -num | 指定屏幕显示大小为num行                                                      |
| +num | 从行号num开始显示                                                            |
| -s   | 把连续的多个空行显示在一行                                                   |
| -p   | 不滚屏，而是清除整个自己屏幕，然后显示文件                                   |
| -c   | 不滚屏，而是从每一屏的顶部开始显示文本，每显示完一行，就清除这一行的剩余部分 |

`more`交互式说明

| 子命令    | 说明                     |
|-----------|--------------------------|
| h/?       | 查看帮助                 |
| 空格键    | 向下滚动一屏             |
| z         | 向下滚动一屏             |
| Enter     | 向下显示一行             |
| f         | 向下滚动一屏             |
| b         | 返回上一屏               |
| =         | 输出当前行的行号         |
| /查找文本 | 查找指定的文本           |
| :f        | 输出文件名和当前行的行号 |
| v         | 调用vi编辑器             |
| !命令     | 调用Shell，并执行命令    |
| q         | 退出more                 |

# 3.4 less 分页显示文件内容

`less`类似`more`命令，`less`的功能比`more`要强大

语法格式

~~~
less [选项] [文件]
~~~

`less`命令的参数选项及说明

| 选项 | 说明                                                        |
|------|-------------------------------------------------------------|
| -i   | 搜索时忽略大小写                                            |
| -m   | 显示进度百分比                                              |
| -N   | 显示行好                                                    |
| -s   | 多行空行显示为单行                                          |
| -e   | 当显示到文件结尾时自动退出，若没有此选项则需要用交互式q退出 |

`less`命令的交互式子命令及说明
| 子命令      | 说明                  |
|-------------|-----------------------|
| b           | 向前翻页`!`           |
| 空格键      | 向后翻页`!`           |
| u           | 向前翻半页            |
| d           | 向后翻半页            |
| y           | 向上滚动一行          |
| 回车键      | 向下滚动一行          |
| ↑           | 向上滚动一行          |
| ↓           | 向下滚动一行          |
| [page up]   | 向前翻一页            |
| [page down] | 向后翻一页            |
| /           | 向下查找字符串        |
| ?           | 向前查找字符串        |
| n           | 向后查找已匹配的文本  |
| N           | 向前查找已匹配的文本  |
| v           | 进入vi编辑器          |
| !           | 调用Shell，并执行命令 |
| G           | 移动到最后一行        |
| g           | 移动到第一行          |
| h           | 移动到第一行          |
| q           | 退出less命令          |

例子:

显示文本内容，并显示行号

~~~
> less -N config.ini
1 ;; _-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_
2 ;;
3 ;;          ____        __      __
4 ;;         / __ \____  / /_  __/ /_  ____ ______
5 ;;        / /_/ / __ \/ / / / / __ \/ __ `/ ___/
6 ;;       / ____/ /_/ / / /_/ / /_/ / /_/ / /
7 ;;      /_/    \____/_/\__, /_.___/\__,_/_/
8 ;;                    /____/
9 ;;
10 ;; Created By Aditya Shakya @adi1090x
11 ;;
12 ;; _-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_
13
14 ;; Global WM Settings
15
16 [global/wm]
17 ; Adjust the _NET_WM_STRUT_PARTIAL top value
18 ; Used for top aligned bars
19 margin-bottom = 0
20
21 ; Adjust the _NET_WM_STRUT_PARTIAL bottom value
22 ; Used for bottom aligned bars
23 margin-top = 0
~~~

# 3.5 head显示文件内容头部

`head`命令用户显示文件内容的头部，默认为前10行





















